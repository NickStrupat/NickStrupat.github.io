<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
        <link rel="stylesheet" type="text/css" href="font/ibmvga8.css">
        <link rel="stylesheet" type="text/css" href="thebigolstylesheet.css">
    </head>
    <body onload="init()">
        <!--<div id="background"></div>-->
        <header>
            <span id="title">NS-DOS Version <span id="date"></span></span>
            <ul>
                <li><a href="">Home</a></li>
                <li><a href="">Archive</a></li>
                <li><a href="">GitHub</a></li>
                <li><a href="">LinkedIn</a></li>
            </ul>
            <span id="info">
                <span id="time"></span>
                <input id="search" type="text" placeholder="Search"/>
            </span>
        </header>
        <!--Test
        <ul>
            <li>What</li>
            <li>The</li>
            <li>What</li>
        </ul>-->
		<section>
            <div class="dos-box-outer">
                <h1>test</h2>
                <div class="dos-box">
                    test
                </div>
            </div>
        </section>
        <footer>
            <a class="email" href="mailto:nick.strupat@gmail.com">nick.strupat@gmail.com</a>
            <button class="email">nick.strupat@gmail.com</button>
            <span id="page-length"></span>
        </footer>
    </body>
    <script>
        function updateTime() {
            var date = new Date();
            document.getElementById('time').innerHTML = addZero(date.getHours()) + ":" + addZero(date.getMinutes()) + ":" + addZero(date.getSeconds());
            setTimeout(updateTime, 1000);
        }
        
        function addZero(i) { return i < 10 ? "0" + i : i; }
        
        function init() {
            updateTime();
            var date = new Date();
            document.getElementById('date').innerHTML = date.getFullYear() + "." + (date.getMonth() + 1) + "." + date.getDate()
            document.getElementById('page-length').innerHTML = document.documentElement.innerHTML.length;
            
            // var emailElements = document.getElementsByClassName('email');
            var emailAnchor = document.querySelector('a.email');
            var buttonAnchor = document.querySelector('button.email');
            if (document.queryCommandSupported("copy") === true) {
                var $parent = emailAnchor.parentElement;
                $parent.removeChild(emailAnchor);
                buttonAnchor.style.display = 'inline-block';
                buttonAnchor.addEventListener('click', function(event) {
                    copyEmailToClipboard(emailAnchor.innerHTML);
                });
            }
        }
        function copyEmailToClipboard(text) {
            var $textArea = document.createElement('textarea');
            $textArea.value = text;
            document.body.appendChild($textArea);
            $textArea.select();
            var success = document.execCommand('copy');
            document.body.removeChild($textArea);
            if (success !== true)
                alert('Could not copy email to clipboard. Try selecting the text and copying like the old days.')
        }
    </script>
</html>